<ion-header>
  <ion-toolbar>
    <ion-title>Adicionar ao carrinho</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row *ngFor="let row of chunkedProducts(products, 2)">
      <ion-col size="6" *ngFor="let product of row">
        <ion-card class="uniform-card">
          <div class="image-container">
            <img [src]="safeImages[product.image]" >
          </div>
          <ion-card-header>
            <ion-card-title>{{ product.name }}</ion-card-title>
            <ion-card-subtitle>{{ product.price }} per {{ product.unity }}</ion-card-subtitle>
          </ion-card-header>
          <ion-button expand="full" (click)="addToCart(product)" [disabled]="isProductInCart(product)">
            {{ isProductInCart(product) ? 'In Cart' : 'Add to cart' }}
          </ion-button>
          <ion-button expand="full" color="danger" *ngIf="isProductInCart(product)" (click)="removeFromCart(product)">
            Remove from cart
          </ion-button>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-button expand="full" routerLink="/tabs/tab2">Go to Shopping List</ion-button>
</ion-content>
