<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="primary"></ion-back-button>
    </ion-buttons>
    <ion-title>Editar Produto</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form name="produtoForm" [formGroup]="produtoForm">
    <ion-grid>
      <ion-row >
        <ion-col size="auto">
          <ion-button
            (click)="takePicture()"
            fill="solid"
            shape="round"
            color="primary"
          >
            <ion-icon name="camera-outline" slot="start"></ion-icon>
            Tirar fotografia
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row >
        <ion-col >
          <img *ngIf="image" [src]="image" alt="Captured Image" />
          <img
            *ngIf="safeImages[produto.image]"
            [src]="safeImages[produto.image]"
            alt="Imagem do produto "
          />
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-input
        label="Introduza o nome"
        label-placement="floating"
        fill="solid"
        type="text"
        placeholder="Introduza o nome"
        formControlName="Name"
        required
    ></ion-input>

    <!-- <ion-input
      label="Introduza a Categoria"
      label-placement="floating"
      fill="solid"
      type="text"
      placeholder="Introduza a categoria"
      formControlName="Category"
      required
    ></ion-input> -->

    <ion-select
        label="Selecione a categoria do produto"
        label-placement="floating"
        fill="outline"
        formControlName="Category"
        required
      >
        <ion-select-option
          *ngFor="let categoria of categoriaList"
          [value]="categoria.text"
          >{{ categoria.text }}</ion-select-option
        >
      </ion-select>

    <ion-input
        label="Introduza o preço"
        label-placement="floating"
        fill="solid"
        type="number"
        placeholder="Introduza o preço"
        formControlName="Price"
        required
    ></ion-input>

    <ion-input
        label="Introduza o código de barras"
        label-placement="floating"
        fill="solid"
        type="text"
        placeholder="Introduza o código de barras"
        formControlName="Barcode"
        required
    ></ion-input>

    <ion-select
        label="Selecione a unidade do produto"
        label-placement="floating"
        fill="outline"
        formControlName="Unity"
        required
      >
        <ion-select-option
          *ngFor="let unidade of unidadeList"
          [value]="unidade.text"
          >{{ unidade.text }}</ion-select-option
        >
      </ion-select>

      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button (click)="EditarProduto()">Editar</ion-button>
          </ion-col>
          <ion-col>
            <ion-button id="present-alert2">
              <ion-icon name="close-outline"></ion-icon>
              <ion-alert
                trigger="present-alert2"
                header="Tem acerteza que deseja eliminar o produto?"
                [buttons]="alertButtons2"
                (didDismiss)="setResult($event)"
              ></ion-alert>
              Eliminar
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      

      
  </form>
</ion-content>
